<div class="customization">
  <section class="section">
    <div class="section__heading">
      <h2 class="section__label">Branding</h2>
      <p class="section__sublabel">Customize branding of your store</p>
    </div>
    <form
      [formGroup]="customizationForm"
      (ngSubmit)="submitForm()"
      class="section__form"
    >
      <div class="section__form-group">
        <label for="storeName">Store name</label>
        <input
          id="storeName"
          type="text"
          pInputText
          formControlName="name"
          class="section__form-input"
        />
      </div>
      <div class="section__form-group--sided">
        <div>
          <div>
            <label>Logo</label>
            <label for="logo" class="section__form-input--upload"
              >Upload logo</label
            >
            <input
              id="logo"
              type="file"
              style="display: none"
              upload
              (onUpload)="handleImage($event, 'logo')"
              (isUploading)="handleLoading($event)"
            />
          </div>
          <span
            *ngIf="store?.logo"
            class="section__form-input--remove"
            (click)="handleImage(null, 'logo')"
            >Remove logo</span
          >
        </div>
        <div class="section__form-image">
          <img
            [src]="store?.logo || picPlaceholder"
            class="section__form-image--logo"
          />
        </div>
      </div>
      <div class="section__form-group--sided">
        <div>
          <div>
            <label>Favicon</label>
            <label for="favicon" class="section__form-input--upload"
              >Upload favicon</label
            >
            <input
              id="favicon"
              type="file"
              style="display: none"
              upload
              (onUpload)="handleImage($event, 'favicon')"
              (isUploading)="handleLoading($event)"
            />
          </div>
          <span
            *ngIf="store?.favicon"
            class="section__form-input--remove"
            (click)="handleImage(null, 'favicon')"
            >Remove favicon</span
          >
        </div>
        <div class="section__form-image">
          <img
            [src]="store?.favicon || picPlaceholder"
            class="section__form-image--icon"
          />
        </div>
      </div>
      <div class="section__form-group">
        <label for="cover">Cover image</label>
        <div class="section__upload-cover">
          <div class="section__upload-cover-bg" *ngIf="store?.coverImage">
            <img [src]="store?.coverImage" />
          </div>
          <label
            for="file-upload"
            pButton
            label="Upload"
            class="p-button-secondary"
          ></label>
          <input
            id="file-upload"
            type="file"
            style="display: none"
            upload
            (onUpload)="handleImage($event, 'coverImage')"
            (isUploading)="handleLoading($event)"
          />
          <span
            *ngIf="store?.coverImage"
            class="section__form-input--remove"
            (click)="handleImage(null, 'coverImage')"
            >Remove cover</span
          >
        </div>
      </div>
      <button
        pButton
        loadingIcon="pi pi-spin pi-sync"
        [loading]="isLoading"
        type="submit"
        label="Save changes"
        class="section__form-button"
      ></button>
    </form>
  </section>
</div>

<p-toast></p-toast>
